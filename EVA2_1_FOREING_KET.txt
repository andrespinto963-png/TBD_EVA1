MySQL Shell 8.0.43

Copyright (c) 2016, 2025, Oracle and/or its affiliates.
Oracle is a registered trademark of Oracle Corporation and/or its affiliates.
Other names may be trademarks of their respective owners.

Type '\help' or '\?' for help; '\quit' to exit.
 MySQL  JS > \sql
Switching to SQL mode... Commands end with ;
 MySQL  SQL > connect --mc root@localhost
ERROR: Not connected.
           -> ;
ERROR: Not connected.
 MySQL  SQL > \connect --mc root@localhost
Creating a Classic session to 'root@localhost'
Fetching global names for auto-completion... Press ^C to stop.
Your MySQL connection id is 8
Server version: 8.0.43 MySQL Community Server - GPL
No default schema selected; type \use <schema> to set one.
 MySQL  localhost:3306 ssl  SQL > show databases;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| prueba_tbd         |
| sakila             |
| sys                |
| tbd1               |
| world              |
+--------------------+
8 rows in set (0.0009 sec)
 MySQL  localhost:3306 ssl  SQL > create database tbd2;
Query OK, 1 row affected (0.0226 sec)
 MySQL  localhost:3306 ssl  SQL > create table cliente(
                               -> idcliente int not null auto_increment key,
                               -> nombre varchar(50) not null,
                               -> rfc varchar(13) not null);
ERROR: 1046 (3D000): No database selected
 MySQL  localhost:3306 ssl  SQL > use tbd2;
Default schema set to `tbd2`.
Fetching global names, object names from `tbd2` for auto-completion... Press ^C to stop.
 MySQL  localhost:3306 ssl  tbd2  SQL > create table cliente( idcliente int not null auto_increment key, nombre varchar(50) not null, rfc varchar(13) not null);
Query OK, 0 rows affected (0.0483 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into cliente (nombre,rfc)
                                     -> values("armando","ASDF12355"),("valeria","FVTA251103");
Query OK, 2 rows affected (0.0138 sec)

Records: 2  Duplicates: 0  Warnings: 0
 MySQL  localhost:3306 ssl  tbd2  SQL > select * from cliente;
+-----------+---------+------------+
| idcliente | nombre  | rfc        |
+-----------+---------+------------+
|         1 | armando | ASDF12355  |
|         2 | valeria | FVTA251103 |
+-----------+---------+------------+
2 rows in set (0.0011 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > create table venta(
                                     -> idventa int not null auto_increment key,
                                     -> fecha date not null,
                                     -> id cliente int not null,
                                     -> foreign key(id cliente)
                                     -> references cliente(idcliente));
ERROR: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'cliente int not null,
foreign key(id cliente)
references cliente(idcliente))' at line 4
 MySQL  localhost:3306 ssl  tbd2  SQL > create table venta( idventa int not null auto_increment key, fecha date not null, idcliente int not null, foreign key(idcliente) references cliente(idcliente));
Query OK, 0 rows affected (0.0825 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > show create table venta;
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table | Create Table                                                                                                                                                                                                                                                                                                                                 |
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| venta | CREATE TABLE `venta` (
  `idventa` int NOT NULL AUTO_INCREMENT,
  `fecha` date NOT NULL,
  `idcliente` int NOT NULL,
  PRIMARY KEY (`idventa`),
  KEY `idcliente` (`idcliente`),
  CONSTRAINT `venta_ibfk_1` FOREIGN KEY (`idcliente`) REFERENCES `cliente` (`idcliente`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.0016 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into venta(fecha,idcliente)
                                     -> value("2025-09-17",5);
ERROR: 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`tbd2`.`venta`, CONSTRAINT `venta_ibfk_1` FOREIGN KEY (`idcliente`) REFERENCES `cliente` (`idcliente`))
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into venta(fecha,idcliente) value("2025-09-17",2);
Query OK, 1 row affected (0.0162 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into venta(fecha,idcliente) value("2025-09-17",2);
Query OK, 1 row affected (0.0151 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into venta(fecha,idcliente) value("2025-09-17",1);
Query OK, 1 row affected (0.0061 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into venta(fecha,idcliente) value("2025-09-17",2);
Query OK, 1 row affected (0.0164 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > select * from cliente;
+-----------+---------+------------+
| idcliente | nombre  | rfc        |
+-----------+---------+------------+
|         1 | armando | ASDF12355  |
|         2 | valeria | FVTA251103 |
+-----------+---------+------------+
2 rows in set (0.0018 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > select * from venta;
+---------+------------+-----------+
| idventa | fecha      | idcliente |
+---------+------------+-----------+
|       2 | 2025-09-17 |         2 |
|       3 | 2025-09-17 |         2 |
|       4 | 2025-09-17 |         1 |
|       5 | 2025-09-17 |         2 |
+---------+------------+-----------+
4 rows in set (0.0010 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > delete from cliente
                                     -> where idcliente = 1;
ERROR: 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`tbd2`.`venta`, CONSTRAINT `venta_ibfk_1` FOREIGN KEY (`idcliente`) REFERENCES `cliente` (`idcliente`))
 MySQL  localhost:3306 ssl  tbd2  SQL > delete from venta where idcliente = 1;
Query OK, 1 row affected (0.0170 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > delete from cliente where idcliente = 1;
Query OK, 1 row affected (0.0147 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > alter table venta
                                     -> drop constraint venta_ibfk_1;
Query OK, 0 rows affected (0.0189 sec)

Records: 0  Duplicates: 0  Warnings: 0
 MySQL  localhost:3306 ssl  tbd2  SQL > alter table venta
                                     -> add constraint foreign key (idcliente)
                                     -> references cliente(idcliente);
Query OK, 3 rows affected (0.1185 sec)

Records: 3  Duplicates: 0  Warnings: 0
 MySQL  localhost:3306 ssl  tbd2  SQL > show create table;
ERROR: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
 MySQL  localhost:3306 ssl  tbd2  SQL > create table producto(
                                     -> idproducto int not null auto_increment key,
                                     -> nombre varchar(50) not null,
                                     -> precio decimal(8,2) not null);
Query OK, 0 rows affected (0.0442 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into producto(nombre,precio)
                                     -> values("celular",10000.0),("TV",1504.2),("vapes",245.50);
Query OK, 3 rows affected (0.0160 sec)

Records: 3  Duplicates: 0  Warnings: 0
 MySQL  localhost:3306 ssl  tbd2  SQL > select * from producto;
+------------+---------+----------+
| idproducto | nombre  | precio   |
+------------+---------+----------+
|          1 | celular | 10000.00 |
|          2 | TV      |  1504.20 |
|          3 | vapes   |   245.50 |
+------------+---------+----------+
3 rows in set (0.0008 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > create table ventadetalle(
                                     -> idventadetalle int not null auto_increment key,
                                     -> idventa int not null,
                                     -> idproducto int not null,
                                     -> cantidad int,
                                     -> foreign key(idventa) references venta(idventa),
                                     -> foreign key(idproducto)
                                     -> referencias producto(idproducto));
ERROR: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'referencias producto(idproducto))' at line 8
 MySQL  localhost:3306 ssl  tbd2  SQL > create table ventadetalle( idventadetalle int not null auto_increment key, idventa int not null, idproducto int not null, cantidad int, foreign key(idventa) references venta(idventa), foreign key(idproducto) references producto(idproducto));
Query OK, 0 rows affected (0.0847 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into ventadetalle(idventa,idproducto,cantidad)
                                     -> values(3,1,4),(1,2,3),(4,3,3);
ERROR: 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`tbd2`.`ventadetalle`, CONSTRAINT `ventadetalle_ibfk_1` FOREIGN KEY (`idventa`) REFERENCES `venta` (`idventa`))
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into ventadetalle(idventa,idproducto,cantidad) values(3,2,2),(2,3,3),(4,3,3);
ERROR: 1452 (23000): Cannot add or update a child row: a foreign key constraint fails (`tbd2`.`ventadetalle`, CONSTRAINT `ventadetalle_ibfk_1` FOREIGN KEY (`idventa`) REFERENCES `venta` (`idventa`))
 MySQL  localhost:3306 ssl  tbd2  SQL > select * from venta;
+---------+------------+-----------+
| idventa | fecha      | idcliente |
+---------+------------+-----------+
|       2 | 2025-09-17 |         2 |
|       3 | 2025-09-17 |         2 |
|       5 | 2025-09-17 |         2 |
+---------+------------+-----------+
3 rows in set (0.0022 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > select * from producto;
+------------+---------+----------+
| idproducto | nombre  | precio   |
+------------+---------+----------+
|          1 | celular | 10000.00 |
|          2 | TV      |  1504.20 |
|          3 | vapes   |   245.50 |
+------------+---------+----------+
3 rows in set (0.0020 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL > insert into ventadetalle(idventa,idproducto,cantidad) values(3,2,2),(2,3,3),(5,3,3);
Query OK, 3 rows affected (0.0162 sec)

Records: 3  Duplicates: 0  Warnings: 0
 MySQL  localhost:3306 ssl  tbd2  SQL > show * from ventadetalle;
ERROR: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '* from ventadetalle' at line 1
 MySQL  localhost:3306 ssl  tbd2  SQL > select * from ventadetalle;
+----------------+---------+------------+----------+
| idventadetalle | idventa | idproducto | cantidad |
+----------------+---------+------------+----------+
|              7 |       3 |          2 |        2 |
|              8 |       2 |          3 |        3 |
|              9 |       5 |          3 |        3 |
+----------------+---------+------------+----------+
3 rows in set (0.0011 sec)
 MySQL  localhost:3306 ssl  tbd2  SQL >
